(this["webpackJsonplink-in-bio"]=this["webpackJsonplink-in-bio"]||[]).push([[0],{41:function(e,t,n){},52:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},61:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var r=n(17),a=n.n(r),s=n(33),c=n(20),i=n(31),u=n(42),o=n.n(u),l=n(21),h={currentUser:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(l.a)(Object(l.a)({},e),{},{currentUser:t.payload});default:return e}},p={links:null},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LINKS":return Object(l.a)(Object(l.a)({},e),{},{links:t.payload});default:return e}},j=Object(i.b)({user:d,links:b}),f=[o.a],x=Object(i.c)(j,i.a.apply(void 0,f)),O=n(10),k=n.n(O),m=n(19),v=n(23),g=n(24),y=n(26),C=n(25),w=(n(52),n(1)),S=n.n(w),N=n(7),U=n(28),L=(n(65),n(54),function(e){return{type:"SET_LINKS",payload:e}});U.a.initializeApp({apiKey:"AIzaSyC1TVl-yo8BWHeWYaJntNs3zbHY6W8ROto",authDomain:"link-in-bio-6823e.firebaseapp.com",projectId:"link-in-bio-6823e",storageBucket:"link-in-bio-6823e.appspot.com",messagingSenderId:"202147021959",appId:"1:202147021959:web:497b047ff2294784322422",measurementId:"G-BTCQ33XNDF"});var I=U.a.auth(),E=U.a.firestore(),R=new U.a.auth.GoogleAuthProvider;R.setCustomParameters({prompt:"select_account"});var T,D,A,_,B,z=function(){return I.signInWithPopup(R)},G=function(){var e=Object(m.a)(k.a.mark((function e(t,n){var r,a,s,c,i,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=E.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(a=e.sent,console.log(a.exists),a.exists){e.next=18;break}return s=t.displayName,c=t.email,i=t.photoURL,u=new Date,e.prev=10,e.next=13,r.set(Object(l.a)({displayName:s,email:c,photoURL:i,createdAt:u},n));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),console.log("error creating user",e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[10,15]])})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){I.signOut().then((function(){console.log("Signed Out")}),(function(e){console.error("Sign Out Error",e)}))},P=function(){var e=Object(m.a)(k.a.mark((function e(t,n){var r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a=E.doc("users/".concat(t)).collection("linkss"),e.next=4,a.get();case 4:return e.sent.forEach((function(e){r.push(e.data())})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=E.doc("users/".concat(t)),e.next=3,n.get();case 3:if(!(r=e.sent).exists){e.next=9;break}return a=r.data(),e.abrupt("return",a);case 9:return console.log("dasd"),e.abrupt("return","error");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(k.a.mark((function e(t,n,r){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.doc("users/".concat(t)).collection("linkss").add({link:r,text:n});case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),J=function(){var e=Object(m.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=E.doc("users/".concat(t)).collection("linkss"),e.next=3,r.get();case 3:return e.sent.forEach((function(e){e.data().link===n&&(e.ref.delete(),console.log("hereee"))})),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),K=(U.a,n(56),n(2)),M=function(){return Object(K.jsxs)("div",{id:"bg",children:[Object(K.jsx)("p",{className:"heading",children:"Link-in-bio"}),Object(K.jsxs)("div",{onClick:z,id:"customBtn",class:"customGPlusSignIn",children:[Object(K.jsx)("span",{class:"icon"}),Object(K.jsx)("span",{class:"buttonText",children:"Google SignIn"})]})]})},V=n(34),Y=(n(58),n(41),n(27)),Q=n.n(Y),X=Object(c.b)((function(e){return{currentUser:e.user.currentUser}}),(function(e){return{setLinks:function(t){return e(L(t))}}}))((function(e){return Object(K.jsxs)("div",{className:"container",children:[Object(K.jsx)("a",{className:"link linkbox",target:"_blank",href:e.link,children:e.text}),Object(K.jsx)("span",{children:Object(K.jsx)("i",{onClick:Object(m.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J(e.currentUser.uid,e.link).then((function(){P(e.currentUser.uid).then((function(t){e.setLinks(t)}))})),Q.a.message("Link Deleted!");case 2:case"end":return t.stop()}}),t)}))),className:"bi bi-trash"})})]})})),q=n(68),Z=n(69),$=(n(59),function(e){Object(y.a)(n,e);var t=Object(C.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).handleChange=function(e){var t=e.target,n=t.value,a=t.name;r.setState(Object(V.a)({},a,n))},r.state={show:!1,text:null,link:null},P(e.currentUser.uid).then((function(e){r.props.setLinks(e)})),r}return Object(g.a)(n,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"setter",value:function(){var e=this,t=this.state.link;"http"===t.substring(0,4)||(t="http://".concat(t)),F(T.uid,this.state.text,t).then((function(){P(T.uid).then((function(t){e.props.setLinks(t)}))})),Q.a.message("Link Added!!"),this.handleClose()}},{key:"handleSubmit",value:function(e){var t=e.target.value,n=t.text;t.link;console.log(n)}},{key:"copyie",value:function(){navigator.clipboard.writeText("https://zdldr.csb.app/v/".concat(T.uid)).then(console.log("gg")),Q.a.message("Viewer link Copied to Clipboard")}},{key:"render",value:function(){var e=this;T=this.props.currentUser;var t,n=this.props.links;return t=null===n?"":n.map((function(e){return Object(K.jsx)(X,{link:e.link,text:e.text})})),Object(K.jsxs)("div",{children:[Object(K.jsxs)("div",{className:"dropdown",children:[Object(K.jsx)("button",{className:"dropbtn",children:Object(K.jsx)("i",{class:"bi bi-gear"})}),Object(K.jsxs)("div",{className:"dropdown-content",children:[Object(K.jsx)("a",{onClick:function(){return e.handleShow()},children:"Add Link"}),Object(K.jsx)("a",{onClick:this.copyie,children:"Copy Link"}),Object(K.jsx)("a",{href:"#",onClick:H,children:"Sign Out"})]})]}),Object(K.jsx)("img",{className:"user-dp",src:T.photoURL,alt:"user-pic"}),Object(K.jsx)("p",{className:"user-name",children:T.displayName}),Object(K.jsx)("div",{className:"linksContainer",children:t}),Object(K.jsx)("form",{onSubmit:this.handleSubmit,children:Object(K.jsxs)(q.a,{show:this.state.show,onHide:function(){return e.handleClose()},children:[Object(K.jsx)(q.a.Header,{children:Object(K.jsx)(q.a.Title,{children:"Modal heading"})}),Object(K.jsxs)(q.a.Body,{children:["Label : ",Object(K.jsx)("input",{name:"text",onChange:this.handleChange}),Object(K.jsx)("br",{}),Object(K.jsx)("br",{}),"Link : ",Object(K.jsx)("input",{name:"link",onChange:this.handleChange})]}),Object(K.jsxs)(q.a.Footer,{children:[Object(K.jsx)(Z.a,{variant:"secondary",onClick:function(){return e.handleClose()},children:"Close"}),Object(K.jsx)(Z.a,{type:"submit",variant:"primary",onClick:function(){null==e.state.text||null==e.state.link?Q.a.message("Cannot Leave Label or Link empty"):e.setter()},children:"Save Changes"})]})]})})]})}}]),n}(S.a.Component)),ee=Object(c.b)((function(e){return{currentUser:e.user.currentUser,links:e.links.links}}),(function(e){return{setLinks:function(t){return e(L(t))}}}))($),te=(n(61),function(e){return Object(K.jsx)("div",{className:"container",children:Object(K.jsx)("a",{className:"link linkbox",target:"_blank",href:e.link,children:e.text})})}),ne=function(e){Object(y.a)(n,e);var t=Object(C.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).state={links:null,userData:null},P(e.match.params.userId).then((function(e){r.setState({links:e})})),W(e.match.params.userId).then((function(e){r.setState({userData:e})})),r}return Object(g.a)(n,[{key:"render",value:function(){return D=null===this.state.links?"fdtdt":this.state.links.map((function(e){return Object(K.jsx)(te,{link:e.link,text:e.text})})),null===this.state.userData?(A="",_=""):(A=Object(K.jsx)("img",{className:"user-dp",src:this.state.userData.photoURL,alt:"user-pic"}),_=Object(K.jsx)("p",{className:"user-name",children:this.state.userData.displayName})),Object(K.jsxs)("div",{children:[A,_,Object(K.jsx)("div",{className:"linkscontainer",children:D})]})}}]),n}(S.a.Component),re=Object(N.e)(ne),ae=function(e){Object(y.a)(n,e);var t=Object(C.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeFromAuth=I.onAuthStateChanged(function(){var t=Object(m.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.setCurrentUser(n),t.next=3,G(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this.props.currentUser;return B=null===e?Object(K.jsx)(M,{}):Object(K.jsx)(ee,{}),Object(K.jsxs)("div",{className:"App",children:[Object(K.jsx)(N.a,{exact:!0,path:"/",children:B}),Object(K.jsx)(N.a,{path:"/v/:userId",children:Object(K.jsx)(re,{})})]})}}]),n}(S.a.Component),se=Object(c.b)((function(e){return{currentUser:e.user.currentUser}}),(function(e){return{setCurrentUser:function(t){return e(function(e){return{type:"SET_CURRENT_USER",payload:e}}(t))}}}))(ae),ce=(n(63),document.getElementById("root"));a.a.render(Object(K.jsx)(c.a,{store:x,children:Object(K.jsx)(s.a,{children:Object(K.jsx)(se,{})})}),ce)}},[[64,1,2]]]);
//# sourceMappingURL=main.36ab196a.chunk.js.map